#version 330 core

layout (location = 0) in vec3 vertex; // Vertex position for quad
layout (location = 1) in vec3 instanceOffset; // Particle position
layout (location = 2) in vec2 texCoords; // Texture coordinates
layout (location = 3) in float instanceLifetimePercent; // Lifetime of particle

out vec2 TexCoords;
out float LifetimePercent;
uniform mat4 projection;
uniform mat4 view;
uniform float lifetime;


void main() {
float currentScale = mix(150, 20, pow(instanceLifetimePercent, 2.0)); // 对时间平方


    TexCoords = texCoords;
    gl_Position = projection * view * vec4(vertex*currentScale  + instanceOffset, 1.0);
    LifetimePercent = instanceLifetimePercent;
}
